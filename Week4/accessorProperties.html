<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //访问器属性不包含数据值；它们包含一对儿 getter 和 setter 函数（不过这两个函数都不是必需的）。在读取访问器属性时，会调用 getter 函数，这个函数负责返回有效的值；在写入访问器属性时，会调用 setter 函数并传入新值。这个函数负责决定如何处理数据。访问器属性有如下 4 个特性。
        //[[Configurable]]: 表示能否通过 delete 删除属性从而重新定义属性，能否修改属性的特性，或者能否把属性修改为数据属性。对于直接在对象上定义为的属性，这个特性的默认值为 true。
        //[[Enumerable]]: 表示能否通过 for——in 循环返回属性。对于直接在对象上定义的属性，这个特性的默认值为 true。
        //[[Get]]: 在读取属性时调用的函数。默认值为 undefined。
        //[[Set]]: 在写入属性时调用的函数。默认值为 undefined。
        //访问器属性不能直接定义，必须使用 Object.defineProperty() 来定义

        var book = {
            _year: 2004,
            edition: 1
        };

        Object.defineProperty(book, 'year', {
            get: function() {
                return this._year;
            },
            set: function(newValue) {
                if (newValue > 2004) {
                    this._year = newValue;
                    this.edition += newValue - 2004;
                }
            }
        });
        console.log(book.year); //调用 get
        book.year = 2005    //调用 set
        console.log(book.edition);

        //不一定非要同时指定 getter和 setter。只指定 getter 意味着属性是不能写，尝试写入属性会被忽略。在严格模式下，尝试写入只指定了 getter 函数的属性会抛出错误
    </script>
</body>
</html>